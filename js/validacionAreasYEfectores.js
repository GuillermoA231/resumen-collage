// Objeto de áreas programáticas, áreas operativas y efectores
const areasProgramaticas = [
  {
    nombre: "AREA PROGRAMATICA ESTE",
    areasOperativas: [
      {
        nombre: "ALDERETES",
        efectores: [
          "CIC ALFREDO MIROLI",
          "CAPS ANGEL SILVESTRE- Bº MUNICIPAL",
          "CAPS NUESTRA SEÑORA DEL ROSARIO",
          "CAPS ALFREDO AMENABAR",
          "POLICLÍNICA ALDERETES",
          "CAPS FEDERICO LELOIR",
        ],
      },
      {
        nombre: "BANDA RIO SALI",
        efectores: [
          "CAPS 17 DE OCTUBRE",
          "CAPS BELGRANO",
          "ANEXO - BELGRANO",
          "CAPS EVA PERON",
          "CAPS MONSEÑOR GREGORIO DE JESUS DIAZ",
          "CAPS PACARA",
          "CAPS SAN ANDRES",
          "CIC JUAN B. TERAN",
          "CIC CANDELARIA",
          "POLICLÍNICA SANTA RITA (LASTENIA)",
          "POLICLÍNICA BANDA DEL RIO SALI",
        ],
      },
      {
        nombre: "BELLA VISTA",
        efectores: [
          "BELLA VISTA - HOSPITAL - SUB DIRECCION",
          "HOSPITAL NODO DR. GUILLERMO SALAZAR CENTRO DE SALUD BELLA VISTA",
          "CAPS MARIA AUXILIADORA - GARCIA FERNANDEZ",
          "CAPS RIO COLORADO",
          "CAPS LAS TALAS",
        ],
      },
      {
        nombre: "BURRUYACU",
        efectores: [
          "HOSPITAL BURRUYACU",
          "CAPS CHILCAS",
          "CAPS EL PUESTITO",
          "CAPS EL CAJON",
          "CIC VILLA BENJAMIN ARAOZ",
          "POSTA SANITARIA chilca KM 37",
        ],
      },
      {
        nombre: "EL BRACHO",
        efectores: [
          "HOSPITAL EL BRACHO",
          "CAPS BAJO GRANDE",
          "CAPS ESQUINA",
          "CAPS LOS BULACIOS - LOS VILLAGRAS",
          "CAPS MANCOPA",
          "CAPS EL CORTADERAL II (EL BRACHO)",
          "CAPS FRONTERITA",
        ],
      },
      {
        nombre: "EL TIMBO",
        efectores: [
          "HOSPITAL EL TIMBO",
          "CAPS NARANJO (EL TIMBO)",
          "CAPS VILLA PADRE MONTI",
          "CAPS SANITARIA  ALTA GRACIA",
          "CAPS EL SUNCHAL",
          "CAPS RIO NIO",
        ],
      },
      {
        nombre: "ESTACION ARAOZ",
        efectores: [
          "HOSPITAL ESTACION ARAOZ",
          "CAPS LOS PEREYRAS",
          "CAPS TACANAS",
          "CAPS VICLOS",
          "CAPS CAMPO EL QUIMIL",
        ],
      },
      {
        nombre: "GARMENDIA",
        efectores: [
          "HOSPITAL GARMENDIA",
          "CAPS PIEDRABUENA",
          "CAPS 7 DE ABRIL",
        ],
      },
      {
        nombre: "LA FLORIDA",
        efectores: [
          "CAPS DELFIN GALLO",
          "CAPS EX INGENIO LUJAN",
          "CAPS ESTACION COLOMBRES",
          "POSTA COLONIA 3",
          "CAPS LA FLORIDA (CRUZ ALTA)",
          "CAPS COLONIA 4 - LUISIANA",
          "CAPS EL FORTIN",
        ],
      },
      {
        nombre: "LA RAMADA",
        efectores: [
          "CAPS EL RODEO",
          "CAPS LA CAÑADA",
          "CAPS TAQUELLO",
          "CAPS LA CRUZ",
          "CAPS MACOMITA",
          "CIC EL CHAÑAR",
          "CIC LA RAMADA",
          "CAPS  LA RAMADA DE ABAJO",
          "POSTA TALA POZO I",
          "POSTA TALA POZO II",
        ],
      },
      {
        nombre: "LEALES",
        efectores: [
          "HOSPITAL SANTA ROSA DE LEALES",
          "POSTA LA FLORIDA (LEALES)",
          "CAPS CARANCHO POZO",
          "CAPS VILLA DE LEALES",
          "CAPS VILLA FIAD",
          "CAPS LOS GOMEZ",
          "CAPS  LOS ROMANOS",
          "CAPS LOS SUELDOS",
          "CAPS  MIXTA",
          "CAPS ROMERA POZO",
          "CIC  Nº 5 VILLA FIAD",
          "CAPS  LA CAÑADA (LEALES)",
          "CAPS  AGUA SALADA",
          "CAPS  EL CORTADERAL I (LEALES)",
          "CAPS  LOS HERRERAS",
          "CAPS  LOS JUAREZ",
          "CAPS LOS PUESTOS",
          "CIC N°50 -  LOS PUESTOS",
          "CAPS  LOS QUEMADOS",
          "CAPS QUILMES - PALA PALA",
          "CAPS PUESTO CHICO",
          "CAPS PUMA POZO",
          "CAPS TUSCA POZO",
          "POSTA EL MOLLAR (LEALES)",
        ],
      },
      {
        nombre: "LOS RALOS",
        efectores: [
          "HOSPITAL LOS RALOS",
          "CAPS LAS CEJAS",
          "CAPS FINCA MAYO",
          "CAPS LOS PEREZ (CRUZ ALTA)",
        ],
      },
      {
        nombre: "RANCHILLOS",
        efectores: [
          "HOSPITAL RANCHILLOS",
          "CAPS RANCHILLOS",
          "CAPS RANCHILLOS 2",
          "CAPS RANCHILLOS 3",
          "CAPS RANCHILLOS 4",
          "CAPS RANCHILLOS 5",
          "CAPS RANCHILLOS 6",
          "CAPS RANCHILLOS 7",
          "CAPS RANCHILLOS 8",
          "CAPS RANCHILLOS 9",
          "CAPS RANCHILLOS 10",
        ],
      },
    ],
  },
  {
    "nombre": "AREA PROGRAMATICA SUR",
    "areasOperativas": [
      {
        "nombre": "SANTA ANA",
        "efectores": [
          "HOSPITAL SANTA ANA",
          "CAPS RIO CHICO",
          "CAPS VILLA C. HILERET",
          "CAPS LOTE 5",
          "CAPS LOTE 6 (VILLA SAN LUIS)",
          "CIC COLONIA 13"
        ]
      },
      {
        "nombre": "AGUILARES",
        "efectores": [
          "HOSP. LOS SARMIENTOS",
          "CAPS AGUILARES",
          "CAPS COLON",
          "HOSP. CTRO DE SALUD AGUILARES",
          "CAPS SANTA BARBARA",
          "CAPS LOS AGUDO",
          "CAPS LOS CORDOBA",
          "CAPS LA TIPA",
          "CAPS NUEVA TRINIDAD",
          "CAPS MONTE BELLO"
        ]
      },
      {
        "nombre": "GRANEROS",
        "efectores": [
          "CAPS GRANEROS",
          "CAPS CASA VIEJAS",
          "CAPS LA CAÑADA"
        ]
      },
      {
        "nombre": "CONCEPCION",
        "efectores": [
          "CAPS ARCADIA",
          "CAPS B° MUNICIPAL",
          "CAPS ITILCO",
          "CAPS LA CALERA DEL CHIRIMAYO",
          "CAPS LA TUNA",
          "CAPS BELICHA",
          "CAPS GASTONA SUR",
          "CAPS GASTONA NORTE",
          "CAPS FINCA CORNET",
          "CIC CONCEPCION SUR(ALVEAR)",
          "CIC RIO SECO",
          "CAPS CIUDACITA",
          "CAPS VILLA QUINTEROS",
          "CAPS SANTA CRUZ",
          "CAPS ALPACHIRI",
          "CAPS EL MOLINO",
          "CAPS ALTO VERDE",
          "CAPS JOSE ALPEROVICH",
          "CAPS Bº BELGRANO(CONCEPCION)",
          "CAPS SAN RAMON( DR. RENE FAVAROLO)",
          "CAPS RIO SECO",
          "HTAL SAN JOSE DE MEDINAS"
        ]
      },
      {
        "nombre": "SIMOCA",
        "efectores": [
          "HOSP. ALVARO GOMEZ LLUECA",
          "CAPS GUEMES",
          "CAPS VILLA CHICLIGASTA",
          "CAPS SAN PEDRO MARTIR",
          "CAPS ATAHONA",
          "CAPS MANUELA PEDRAZA",
          "CAPS BUENA VISTA",
          "CAPS MONTEAGUDO",
          "CIC NIOGASTA"
        ]
      },
      {
        "nombre": "ALBERDI",
        "efectores": [
          "HOSPITAL ALBERDI",
          "CAPS LOS ARROYOS",
          "CAPS LA CALERA",
          "CAPS EL CORRALITO",
          "CAPS ESCABA DE ABAJO",
          "CAPS DR FILGUEIRA OVIEDO (DIQUE ESCABA)",
          "CAPS MARAPA",
          "CAPS VILLA BELGRANO( EDITH PASTORIZA)",
          "CAPS YANIMA",
          "CIC DONATO ALVAREZ",
          "CAPS TALAMUYO"
        ]
      },
      {
        "nombre": "LA MADRID",
        "efectores": [
          "HOSPITAL DR. MAZA",
          "CAPS TACORALO",
          "CAPS ARBOLES GRANDES",
          "CAPS PALOMA",
          "CAPS ESPERANZA",
          "CAPS BARRANCAS",
          "CAPS SAN PANTALEON (LAS ANIMAS)"
        ]
      },
      {
        "nombre": "LA COCHA",
        "efectores": [
          "CAPS RUMI PUNCO",
          "CAPS HUASA PAMPA SUR",
          "CAPS HUASA PAMPA NORTE",
          "CAPS LA INVERNADA",
          "CAPS LOS PIZARRO",
          "CAPS PUESTO LOS PEREZ",
          "CIC LA COCHA",
          "HOSP. MARIO V. STIVALA"
        ]
      },
      {
        "nombre": "MONTEROS",
        "efectores": [
          "HOSP. SANTA LUCIA",
          "CAPS ACHERAL",
          "CAPS AMBERES",
          "CAPITAN CACERES",
          "CAPS EL CERCADO",
          "CAPS EL CHURQUI",
          "CIC LEON ROUGES",
          "CAPS LOS COSTILLA",
          "CAPS LOS ROJOS",
          "CAPS SARGENTO MOYA",
          "CPAS SOLDADO MALDONADO",
          "CAPS LOS SOSA",
          "CAPS VILLA NUEVA",
          "CIC MONTERO VIEJO",
          "POSTA HUASAPAMPA"
        ]
      }
    ]
  },  
  {
    nombre: "AREA PROGRAMATICA OESTE",
    areasOperativas: [
      {
        nombre: "TAFI VIEJO",
        efectores: [
          "POLICLINICA DR. PEDRO SOLORZANO",
          "POLICLINICA MERCEDES SERRANO",
          "CAPS VILLA OBRERA",
          "CAPS LOS POCITOS",
          "CAPS VILLA ROSA",
          "CIC SAN ALBERTO",
          "CAPS DR. OSCAR JIMENEZ",
          "CIC LOS NOGALES S/RESOLUCIN",
          "CIC LOS POCITOS S/RESOLUCIN",
          "CAPS NUEVA ESPERANZA",
          "CAPS LOMAS DE TAFI",
        ],
      },
      {
        nombre: "TRANCAS",
        efectores: [
          "HOSPITAL TRANCAS",
          "CAPS CHOROMORO",
          "CAPS CHUSCHA",
          "CAPS GONZALO",
          "CAPS RODEO GRANDE",
          "CAPS SAN PEDRO DE COLALAO",
          "CAPS LAS ARCAS",
          "CAPS BENJAMIN PAZ",
          "CAPS HUALINCHAY",
          "POSTA VILLA VIEJA",
        ],
      },
      {
        nombre: "LULES",
        efectores: [
          "HOSPITAL DR. ELISEO CANTON",
          "CAPS LA BOLSA",
          "CAPS LA REDUCCION",
          "CAPS MALVINAS",
          "CAPS MERCEDES - (EX EVA PERON)",
          "CAPS NTRA. SRA. DEL FATIMA (EX ING.LULES)",
          "CAPS SAN RAFAEL (LULES)",
          "CIC MERCEDES",
        ],
      },
      {
        nombre: "ALTA MONTAÑA",
        efectores: [
          "POSTA ANFAMA",
          "POSTA ÑORCO",
          "POSTA CHASQUIVIL",
          "POSTA SAN JOSE DE CHASQUIVIL",
          "POSTA ANCA JULI",
          "POSTA MALA MALA",
          "POSTA NOGALITO",
          "POSTA LARA",
        ],
      },
      {
        nombre: "SAN PABLO",
        efectores: [
          "HOSPITAL SAN PABLO",
          "CAPS NTRA. SRA DEL PILAR",
          "CAPS LA NUEVA ESPERANZA (OHUANTA)",
          "CAPS VILLA DEL ROSARIO",
        ],
      },
      {
        nombre: "FAMAILLA",
        efectores: [
          "NTRA SRA. DEL LUJAN (EX EL CRUCE)",
          "HOSPITAL DR. PARAJON ORTIZ",
          "CIC NUEVA BAVIERA",
          "CAPS SAN JOSE DE BUENA VISTA",
          "CAPS TTE. BERDINA",
        ],
      },
      {
        nombre: "TAFI DEL VALLE",
        efectores: [
          "POSTA EL CHURQUI",
          "POLICLINICA EL MOLLAR (DPTO TAFI DEL VALLE)",
          "POSTA SANITARIA EL RINCON",
          "HOSPITAL TAFI DEL VALLE (ELIAS MEDICI)",
          "CAPS SANITARIA LA COSTA 1",
          "POSTA SANITARIA LA COSTA 2",
          "POSTA SANITARIA LAS CARRERAS",
          "POSTA SANITARIA LA CIENAGA",
          "POSTA SANITARIA EL POTRERILLO",
          "POSTA SANITARIA LA OVEJERIA",
          "CAPS EL RODEO GRANDE (TAFI DEL VALLE)",
        ],
      },
      {
        nombre: "EL CADILLAL",
        efectores: [
          "CAPS EL CADILLAL",
          "CAPS RACO",
          "CAPS DR. CARLOS MURGA (SIAMBON)",
          "CAPS TAPIA",
          "CAPS SAN PANTALEON (TICUCHO)",
          "CAPS VPOS",
        ],
      },
      {
        nombre: "VALLES CALCHAQUIES",
        efectores: [
          "POSTA QUILMES",
          "POLICLINICA DR. ADRIAN SAID TUMA",
          "POSTA AMPIMPA",
          "CAPS COLALAO DEL VALLE",
          "POSTA EL BAÑADO",
          "POSTA EL PICHAO",
          "CAPS LOS ZAZOS",
        ],
      },
    ],
  },
  {
    "nombre": "AREA PROGRAMATICA CENTRO",
    "areasOperativas": [
      {
        "nombre": "MEJICO 709",
        "efectores": [
          "AV. F. AGUIRRE Y AV. DEL LIBANO",
          "CALLE 25 y 20 - Bº PABLO VI",
          "CALLE 4 ESQUINA 9 - V. M. MORENO",
          "BALCARCE 3150 - LAS TALITAS",
          "AV. F. SOLANO 300 - Bº SOEME",
          "RUTA 305-Km 12,5 EX GRANJA MODELO - V.M.MORENO",
          "AVDA RIOS 500",
          "V. M. MORENO CALLE 35 (entre 12 y 14)",
          "V. M. MORENO CALLE 75 (entre 10 y 12)",
          "MEXICO 1100"
        ]
      },
      {
        "nombre": "ESPAÑA 611",
        "efectores": [
          "RAMON Y CAJAL 102",
          "AV. JUAN B. JUSTO 1577",
          "MAIPU 1954",
          "URUGUAY 696",
          "MARTIN BERHO 1060",
          "AV. CORONEL SUAREZ 650",
          "COSTANERA Y HAITI 1100",
          "MZ 7 CASA 19 BARRIO 130 VIVIENDAS"
        ]
      },
      {
        "nombre": "ITALIA 764",
        "efectores": [
          "SARGENTO CABRAL 2465",
          "PADRE R CORREA 2400",
          "ASUNCION 903",
          "PJE. S/N ALTURA FELIX OLAZABAL 1500",
          "FRANCISCO DE AGUIREE 3070",
          "SAN MIGUEL 1700",
          "AZCUENAGA 1070",
          "MARCOS PAZ 3.255",
          "CHILE1950",
          "SARGENTO CABRAL 91",
          "AV. EJERCITO DEL NORTE Y DELFIN GALLO"
        ]
      },
      {
        "nombre": "GENERAL PAZ 54",
        "efectores": [
          "LUIS AGOTE 441",
          "GENERAL PAZ 54",
          "CONGRESO 1205",
          "JUJUY 4500",
          "LAS HERAS 2500",
          "PJE. DIAZ VELEZ 1600",
          "Mz.E-LOTE 7 - Bº JUAN PABLO I",
          "PJE. LA MADRID Y CHACABUCO",
          "RUTA Nº 157 km 10 - LOS AGUIRRES",
          "CHARCAS 1298",
          "PJE. OBISPO TREJO Y SANABRIA 900 (ESQ.INMIGRANTES ARABES)",
          "MARCELO T de Aalvear 1988",
          "PJE. EINSTEN 100"
        ]
      },
      {
        "nombre": "ESPAÑA 611",
        "efectores": [
          "MAGALLANES 2087",
          "SAN LUIS 1700",
          "AV. ADOLFO DE LA VEGA 500",
          "LAMADRID 2786",
          "CORONEL ZELAYA 970",
          "FLORIDA ESQ. GORRITI 1100 - Mz. A-PB - Bº MUNICIPAL",
          "LINCOLN 1500",
          "LIBERTAD 2690",
          "LAVALLE 1702",
          "CONSTITUCION Y MALABIA - Bº EJ. ARGENTINO",
          "BENIGNO VALLEJOS Y PEDRO LEON GALLO - B° VIAL III MZ F LO",
          "DIAGONAL HEREDIA y camino a San Pablo",
          "ALSINA 4735 - Bº SAN MARTIN",
          "25 DE MAYO 157",
          "AVDA SOLANO VERA 2DA CUADRA",
          "LAS ACACIAS Y SALAS Y VALDEZ",
          "CORDOBA Y DARWIN - Bº LOS PINOS",
          "AV. SOLANO VERA 2500",
          "RUTA 339-FINCA DE LA UNT CAMINO ESCUELA DE AGRICULTURA.",
          "Ruta Nº 340 Calle Nº1 - SAN JAVIER",
          "Valle de San Javier y La Sala. Club Juventud Unida- Ruta 340 km15",
          "INDEPENDENCIA Y MAIPU",
          "AV. FONZALATO GARCIA Y FRIAS SILVA - Bº AVELLANEDA",
          "Mz. 25 L. 15 - Bº ISLAS MALVINAS",
          "JORGE L. BORGES Y LOS ALAMOS - VILLA CARMELA",
          "MENDOZA 2da CUADRA - Y.B.",
          "LIBANO Y CALLE 3 BARRIO NICOLAS IV - Y.B."
        ]
      }
    ]
  }  
];

// Obtener los elementos de los dropdowns
var areaProgramaticaDropdown = document.getElementById("areaProgramatica");
var areaOperativaDropdown = document.getElementById("areaOperativa");
var efectorDropdown = document.getElementById("efector");

// Agregar un evento de cambio al dropdown de areaProgramatica
areaProgramaticaDropdown.addEventListener("change", function () {
  var selectedAreaProgramatica = areaProgramaticaDropdown.value;

  // Reiniciar los dropdowns de areaOperativa y efector
  resetDropdown(areaOperativaDropdown);
  resetDropdown(efectorDropdown);

  // Verificar el área programática seleccionada y habilitar las áreas operativas correspondientes en el dropdown de areaOperativa
  var areasOperativas = getAreasOperativas(selectedAreaProgramatica);
  if (areasOperativas) {
    enableOptions(
      areaOperativaDropdown,
      areasOperativas.map((areaOperativa) => areaOperativa.nombre)
    );
  }
});

// Agregar un evento de cambio al dropdown de areaOperativa
areaOperativaDropdown.addEventListener("change", function () {
  var selectedAreaOperativa = areaOperativaDropdown.value;

  // Reiniciar el dropdown de efector
  resetDropdown(efectorDropdown);

  // Verificar el área operativa seleccionada y habilitar los efectores correspondientes en el dropdown de efector
  var efectores = getEfectores(selectedAreaOperativa);
  if (efectores) {
    enableOptions(efectorDropdown, efectores);
  }
});

// Función para habilitar opciones en un dropdown
function enableOptions(dropdown, options) {
  dropdown.innerHTML = '<option value="">Seleccione:</option>';
  options.forEach(function (option) {
    var optionElement = document.createElement("option");
    optionElement.textContent = option;
    dropdown.appendChild(optionElement);
  });
  dropdown.disabled = false;
}

// Función para reiniciar un dropdown
function resetDropdown(dropdown) {
  dropdown.innerHTML = '<option value="">Seleccione:</option>';
  dropdown.disabled = true;
}

// Función para obtener las áreas operativas de un área programática
function getAreasOperativas(areaProgramatica) {
  var areaProgramaticaObj = areasProgramaticas.find(function (
    areaProgramaticaObj
  ) {
    return areaProgramaticaObj.nombre === areaProgramatica;
  });
  return areaProgramaticaObj ? areaProgramaticaObj.areasOperativas : null;
}

// Función para obtener los efectores de un área operativa
function getEfectores(areaOperativa) {
  var areaOperativaObj = areasProgramaticas
    .flatMap(function (areaProgramaticaObj) {
      return areaProgramaticaObj.areasOperativas;
    })
    .find(function (areaOperativaObj) {
      return areaOperativaObj.nombre === areaOperativa;
    });
  return areaOperativaObj ? areaOperativaObj.efectores : null;
}

console.log(areasProgramaticas);
